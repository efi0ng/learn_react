<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>This is a react app</title>
    <style>
        body {
            font-family: sans-serif;
        }
    </style>
</head>

<body>
    <p>Learning from <a href="http://jamesknelson.com/learn-raw-react-no-jsx-flux-es6-webpack/">James K Nelson's blog post.</a></p>
    <div id="react-app"></div>

    <script src="https://unpkg.com/react@15.3.2/dist/react.js"></script>
    <script src="https://unpkg.com/react-dom@15.3.2/dist/react-dom.js"></script>
</body>
<script>
    var contacts = [{
        key: 1,
        name: "Sara Kay",
        email: "sara@fictional.com",
        description: "Superhot coder."
    }, {
        key: 2,
        name: "Janitor",
        description: "Cleans up everyone's mess but their own."
    }, {
        key: 3,
        name: "Holo Graph",
        email: "holo@fictional.com",
        description: "Shallow to the point of transparency."
    }];

    var newContact = {name: "", email: "", description: ""};

    var ContactForm = React.createClass({
        propTypes: {
            contact: React.PropTypes.object.isRequired
        },

        render: function() {
            return (
                React.createElement('form', {} ,
                    React.createElement('input', {type: "text", placeholder: "Name (required)", value: this.props.contact.name}),
                    React.createElement('br', {}),
                    React.createElement('input', {type: "text", placeholder: "Email", value: this.props.contact.email}),
                    React.createElement('br', {}),
                    React.createElement('textarea', {rows: "3", cols: "50", placeholder: "Description", value: this.props.contact.description}),
                    React.createElement('br', {}),
                    React.createElement('button', { type: 'submit'}, "Add contact")
                )
            );
        },
    });

    var ContactItem = React.createClass({
        propTypes: {
            name: React.PropTypes.string.isRequired,
            email: React.PropTypes.string,
            description: React.PropTypes.string,
        },

        render: function() {
            return (
                React.createElement('li', {
                        className: 'Contact'
                    },
                    React.createElement('h2', {
                        className: 'Contact-name'
                    }, this.props.name),
                    React.createElement('a', {
                        href: 'mailto:' + this.props.email
                    }, this.props.email),
                    React.createElement('div', {}, this.props.description)
                )
            );
        },
    });

    var listElements = contacts.filter(function(contact) {
        return contact.email;
    }).map(function(contact) {
        return React.createElement(ContactItem, contact);
    });

    var rootElement =
        React.createElement('div', {},
            React.createElement('h1', {}, "New contacts"),
            React.createElement(ContactForm, {contact: newContact}),
            React.createElement('h1', {}, "Contacts"),
            React.createElement('ul', {}, listElements)
        );


    ReactDOM.render(rootElement, document.getElementById('react-app'));
</script>

</html>
